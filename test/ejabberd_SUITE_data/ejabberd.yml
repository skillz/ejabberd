host_config:
  "mysql.localhost":
    sql_username: "@@mysql_user@@"
    sql_type: mysql
    sql_server: "@@mysql_server@@"
    sql_port: @@mysql_port@@
    sql_pool_size: 1
    sql_password: "@@mysql_pass@@"
    sql_database: "@@mysql_db@@"
    auth_method: sql
    sm_db_type: sql
    modules: 
      mod_announce: 
        db_type: sql
        access: local
      mod_blocking: []
      mod_caps: 
        db_type: sql
      mod_last: 
        db_type: sql
      mod_muc: 
        db_type: sql
        ram_db_type: sql
      mod_offline: 
        db_type: sql
      mod_privacy: 
        db_type: sql
      mod_private: 
        db_type: sql
      mod_pubsub: 
        db_type: sql
        access_createnode: pubsub_createnode
        ignore_pep_from_offline: true
        last_item_cache: false
        plugins: 
          - "flat"
          - "hometree"
          - "pep"
      mod_roster: 
        versioning: true
        store_current_id: true
        db_type: sql
      mod_mam:
        db_type: sql
      mod_vcard: 
        db_type: sql
      mod_vcard_xupdate: []
      mod_carboncopy:
        ram_db_type: sql
      mod_adhoc: []
      mod_configure: []
      mod_disco: []
      mod_ping: []
      mod_proxy65: []
      mod_push:
        db_type: sql
        include_body: false
      mod_push_keepalive: []
      mod_s2s_dialback: []
      mod_stream_mgmt:
        resume_timeout: 3
      mod_legacy_auth: []
      mod_register: 
        welcome_message: 
          subject: "Welcome!"
          body: "Hi.
Welcome to this XMPP server."
      mod_stats: []
      mod_time: []
      mod_version: []
  "localhost":
    auth_method: [internal, anonymous]
hosts: 
  - "localhost"
  - "mysql.localhost"
access:
  announce: 
    admin: allow
  c2s: 
    blocked: deny
    all: allow
  c2s_shaper: 
    admin: none
    all: normal
  configure: 
    admin: allow
  local: 
    local: allow
  max_user_offline_messages: 
    all: infinity
  max_user_sessions: 
    all: 100
  muc: 
    all: allow
  muc_admin: 
    admin: allow
  muc_create: 
    local: allow
  pubsub_createnode: 
    local: allow
  register: 
    all: allow
  s2s_shaper: 
    all: fast
acl: 
  local: 
    user_regexp: ""
define_macro: 
  CERTFILE: "@@certfile@@"
  CAFILE: "@@cafile@@"
language: "en"
listen: 
  - 
    port: @@c2s_port@@
    module: ejabberd_c2s
    max_stanza_size: 65536
    certfile: CERTFILE
    cafile: CAFILE
    zlib: true
    starttls: true
    tls_verify: true
    shaper: c2s_shaper
    access: c2s
  - 
    port: @@s2s_port@@
    module: ejabberd_s2s_in
  - 
    port: @@web_port@@
    module: ejabberd_http
    captcha: true
    request_handlers:
      "/api": mod_http_api
  - 
    port: @@component_port@@
    module: ejabberd_service
    password: >-
      @@password@@
loglevel: @@loglevel@@
max_fsm_queue: 10000
queue_type: file
modules: 
  mod_adhoc: []
  mod_configure: []
  mod_disco: []
  mod_ping: []
  mod_proxy65: []
  mod_muc: []
  mod_muc_admin: []
  mod_register: 
    welcome_message: 
      subject: "Welcome!"
      body: "Hi.
Welcome to this XMPP server."
  mod_stats: []
  mod_s2s_dialback: []
  mod_legacy_auth: []
  mod_stream_mgmt:
    max_ack_queue: 100
    resume_timeout: 3
  mod_time: []
  mod_version: []
registration_timeout: infinity
route_subdomains: s2s
domain_certfile: CERTFILE
s2s_use_starttls: false
s2s_cafile: CAFILE
outgoing_s2s_port: @@s2s_port@@
shaper: 
  fast: 50000
  normal: 10000

new_sql_schema: @@new_schema@@

api_permissions:
  "public commands":
    who: all
    what: "*"
